<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Messenger Explorer</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="icon" type="image/JPG" href="img/fb.jpg"/>
    <link href='https://fonts.googleapis.com/css?family=Nunito' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Didact Gothic' rel='stylesheet'>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-115468223-1"></script>
    <script src="js/d3.js"></script>
    <script src="js/crossfilter.js"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-115468223-1');
    </script>
  </head>


  <body>
    <ul class="navigation-bar">
      <li class="title">Messenger Explorer</li>
      <li class = "nav-item" style="float:right">
          <button type="button" class="custom-button" id="ExploreBtn">
              Explore your own data
          </button>
      </li>
      <li class = "nav-item" style="float:right">
        <button type="button" class="custom-button" id="ExplanationBtn">
            What is this ?
        </button>
      </li>

      <li class = "nav-item" style="float:right">
        <input name="resetButton"
               class="custom-button"
               type="button"
               value="Reset All Filters"
               onclick="reset_filters()" />
      </li>
    </ul>
    <div id="density_time" style="display: inline-block; "></div>
    <section id="main" style="display: inline-block; position: relative"></section>
    <div id="filters" style="display: inline-block; overflow: scroll;">
    </div>
    <div id="place_holder" style="display: inline-block;"></div>
    <div id="density_date" style="display: inline-block;"></div>
    <!-- <input type="image" src="img/colors.svg" height="20" width="20"/> -->

    <div id="message_displayer" style="display: inline-block; overflow-y: scroll;overflow-x: hidden;">
      <div id=md_thread>
        <h3 class="md_header">Thread</h3>
      </div>
      <div id=md_sender>
        <h3 class="md_header">Sender</h3>
      </div>
      <div id=md_datetime>
        <h3 class="md_header">Date time</h3>
      </div>
      <div id=md_message>
        <h3 class="md_header">Message</h3>
      </div>
    </div>

  </body>

  <div id="ExplanationModal" style="overflow: scroll;" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>What is this ?</h2>
      <p>
        This is a tool that helps you explore and visualize your own Facebook Messenger History.
      </p>

      <h2>What am I seeing ?</h2>
      <p>
        In the central pane, you can see all your messages. Horizontally you've got the date, and vertically the time of day. Each dot represents a message that you sent or received.<br><br>
        On the left, and below this central pane, you can see a graph showing the quantity of messages sent depending on the date / the time of day. You can drag the edges of the zones to zoom in on a certain period.<br><br>
        On the right side of the screen, there are a bunch of histograms. These histograms give you satistics about your messages (number of messsages sent, most active conversation, etc..), but more interessantly, they allow you to filter your analysis. If you click on a bar, you can keep only the messages corresponding to this attribute, and all the other graphs will update automatically. This way, you can analyse for example who sends more messages in a particular conversation. Or what conversations are more active the week-end versus during the week.<br><br>
        Finally, if you mouse over the dots in the central pane, you can see the content of each message in the bottom right-hand corner of your screen.<br><br>
     </p>

     <h2>How to proceed ?</h2>
     <p>
       The data displayed behind this window is random data. Click on "Explore your own data" to play with your messages.
    </p>

      </p>
    </div>
  </div>

  <div id="ProcessingModal" style="overflow: scroll;" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Processing data ... </h2>
      </p>It can take up to a minute</p>
    </div>
  </div>

  <div id="ExploreModal" style="overflow: scroll;" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
    </div>
  </div>
  <script src="js/pre-processing.js"></script>
  <script src="js/barchart.js"></script>
  <script src="js/main.js"></script>
</html>
